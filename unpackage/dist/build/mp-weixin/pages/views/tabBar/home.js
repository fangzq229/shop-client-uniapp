(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/views/tabBar/home"],{"22f8":function(n,t,e){"use strict";(function(n){e("fffe");o(e("66fd"));var t=o(e("611d"));function o(n){return n&&n.__esModule?n:{default:n}}n(t.default)}).call(this,e("543d")["createPage"])},"611d":function(n,t,e){"use strict";e.r(t);var o=e("c8e3"),c=e("c30a");for(var a in c)"default"!==a&&function(n){e.d(t,n,(function(){return c[n]}))}(a);e("ec9c");var i,r=e("f0c5"),u=Object(r["a"])(c["default"],o["b"],o["c"],!1,null,"449ccd91",null,!1,o["a"],i);t["default"]=u.exports},"63c1":function(n,t,e){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(e("a34a")),c=e("cced");function a(n){return n&&n.__esModule?n:{default:n}}function i(n,t,e,o,c,a,i){try{var r=n[a](i),u=r.value}catch(s){return void e(s)}r.done?t(u):Promise.resolve(u).then(o,c)}function r(n){return function(){var t=this,e=arguments;return new Promise((function(o,c){var a=n.apply(t,e);function r(n){i(a,o,c,r,u,"next",n)}function u(n){i(a,o,c,r,u,"throw",n)}r(void 0)}))}}var u=getApp(),s=function(){Promise.all([e.e("common/vendor"),e.e("pages/commponent/home/header")]).then(function(){return resolve(e("ef66"))}.bind(null,e)).catch(e.oe)},l=function(){e.e("pages/commponent/home/classList").then(function(){return resolve(e("c6db"))}.bind(null,e)).catch(e.oe)},f=function(){e.e("pages/commponent/home/notice").then(function(){return resolve(e("256c"))}.bind(null,e)).catch(e.oe)},d=function(){e.e("pages/commponent/home/column").then(function(){return resolve(e("33e0"))}.bind(null,e)).catch(e.oe)},h=function(){e.e("pages/commponent/home/banner").then(function(){return resolve(e("55ae"))}.bind(null,e)).catch(e.oe)},m=function(){e.e("pages/commponent/home/hotstitle").then(function(){return resolve(e("1d29"))}.bind(null,e)).catch(e.oe)},p=function(){Promise.all([e.e("common/vendor"),e.e("pages/commponent/home/recommend")]).then(function(){return resolve(e("a7c3"))}.bind(null,e)).catch(e.oe)},g=function(){e.e("pages/commponent/home/suspension").then(function(){return resolve(e("381a"))}.bind(null,e)).catch(e.oe)},v={data:function(){return{colors:"",scrollShow:!1,categoryList:[],page:1,pageSize:10,dataList:[],locations:{},loading:!0,columnList:[],swiperList:[],noticeList:[{id:1,title:"甜品港湾,恬美生活"},{id:2,title:"将来有太多未知的甜等待你去尝试"}]}},components:{headers:s,classList:l,notice:f,column:d,banner:h,hotstitle:m,recommend:p,suspension:g},onLoad:function(t){(0,c.getToken)()&&this.setTabBarBadge(),this.setData({colors:u.globalData.newColor}),n.setNavigationBarColor({backgroundColor:u.globalData.newColor,frontColor:"#ffffff"}),this.getHomeData(),this.getHostProduct()},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){this.loading&&(this.page=this.page+1,this.getHostProduct())},onShareAppMessage:function(){},methods:{onPageScroll:function(n){n.scrollTop>=500?this.setData({scrollShow:!0}):this.setData({scrollShow:!1})},getHomeData:function(){var t=this;n.$ajax("/api/home/index",{}).then((function(n){console.log(n),t.swiperList=n.banner,t.categoryList=n.category,t.columnList=n.recommend})).catch((function(t){n.showToast({title:t,icon:"none"})}))},getHostProduct:function(){var t=this;return r(o.default.mark((function e(){return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:1===t.page&&(t.dataList=[]),n.$ajax("/api/product/list",{page:t.page,pageSize:t.pageSize}).then((function(n){(0===n.list.length||n.list.length<t.pageSize)&&(t.loading=!1),t.dataList=t.dataList.concat(n.list)})).catch((function(t){n.showToast({title:t,icon:"none"})}));case 2:case"end":return e.stop()}}),e)})))()}}};t.default=v}).call(this,e("543d")["default"])},af65:function(n,t,e){},c30a:function(n,t,e){"use strict";e.r(t);var o=e("63c1"),c=e.n(o);for(var a in o)"default"!==a&&function(n){e.d(t,n,(function(){return o[n]}))}(a);t["default"]=c.a},c8e3:function(n,t,e){"use strict";var o;e.d(t,"b",(function(){return c})),e.d(t,"c",(function(){return a})),e.d(t,"a",(function(){return o}));var c=function(){var n=this,t=n.$createElement;n._self._c},a=[]},ec9c:function(n,t,e){"use strict";var o=e("af65"),c=e.n(o);c.a}},[["22f8","common/runtime","common/vendor"]]]);